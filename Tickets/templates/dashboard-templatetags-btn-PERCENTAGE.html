{% extends 'base.html' %}
{% load static %}
{% load widget-card-PERCENTAGE %}
{% load buttongroup_tags %}

{% block title %}
    Dashboard
{% endblock %}

{% block content %}
    <section class="container my-4">
        <div class="row">
            <div class="col-12">
                <h1 class="mb-3 mt-3 text-success">Ticket Statistics : </h1>
                <p class="text-muted mb-4">Total: {{ total_tickets }} tickets</p>
            </div>

            <div class="col-md-3">

                {% widget_card_PERCENTAGE title="Total Tickets" count=total_tickets color="info" icon='inboxes' title_color="dark" btn_color="info" btn_icon='arrow-right' url="Tickets" extra_class="shadow bg-gradient"%}
            </div>

            <div class="col-md-3">
                {% widget_card_PERCENTAGE title="Low Priority" count=low_percentage|floatformat:"0"|add:"%" color="success" icon='arrow-down-circle' title_color="success" btn_color="success" btn_icon='arrow-right' url="Tickets?priority=low" extra_class="shadow bg-gradient" extra_text=low_tickets|stringformat:"d"|add:" tickets" %}
            </div>

            <div class="col-md-3">
                {% widget_card_PERCENTAGE title="High Priority" count=high_percentage|floatformat:"0"|add:"%" color="danger" icon='exclamation-triangle' title_color="danger" btn_color="danger" btn_icon='arrow-right' url="Tickets?priority=high" extra_class="shadow bg-gradient" extra_text=high_tickets|stringformat:"d"|add:" tickets" %}
            </div>

            <div class="col-md-3">
                {% widget_card_PERCENTAGE title="Middle Priority" count=middle_percentage|floatformat:"0"|add:"%" color="warning" icon='dash-circle' title_color="warning" btn_color="warning" btn_icon='arrow-right' url="Tickets?priority=middle" extra_class="shadow bg-gradient" extra_text=middle_tickets|stringformat:"d"|add:" tickets" %}
            </div>

            <div class="col-md-3 mt-3">
                {% widget_card_PERCENTAGE title="Secret Tickets" count=secret_percentage|floatformat:"0"|add:"%" color="secondary" icon='shield-lock' title_color="secondary" btn_color="secondary" btn_icon='arrow-right' url="Tickets?priority=secret" extra_class="shadow bg-gradient" extra_text=secret_tickets|stringformat:"d"|add:" tickets" %}
            </div>

            <div class="col-md-3 mt-3">
                {% widget_card_PERCENTAGE title="Critical Priority" count=critical_percentage|floatformat:"0"|add:"%" color="danger" icon='fire' title_color="danger" btn_color="danger" btn_icon='arrow-right' url="Tickets?priority=critical" extra_class="shadow bg-gradient" extra_text=critical_tickets|stringformat:"d"|add:" tickets" %}
            </div>

            <div class="col-md-3 mt-3">
                {% widget_card_PERCENTAGE title="Expired Tickets" count=expired_percentage|floatformat:"0"|add:"%" color="dark" icon='clock-history' title_color="dark" btn_color="dark" btn_icon='arrow-right' url="Tickets?expired" extra_class="shadow bg-gradient" extra_text=expired_tickets|stringformat:"d"|add:" tickets" %}
            </div>

            <div class="col-md-3 mt-3">
                {% widget_card_PERCENTAGE title="Open Tickets" count=open_percentage|floatformat:"0"|add:"%" color="primary" icon='folder-plus' title_color="primary" btn_color="primary" btn_icon='arrow-right' url="Tickets?open" extra_class="shadow bg-gradient" extra_text=open_tickets|stringformat:"d"|add:" tickets" %}
            </div>

            <div class="col-md-3 mt-3">
                {% widget_card_PERCENTAGE title="Closed Tickets" count=close_percentage|floatformat:"0"|add:"%" color="success" icon='folder-check' title_color="success" btn_color="success" btn_icon='arrow-right' url="Tickets?close" extra_class="shadow bg-gradient" extra_text=close_tickets|stringformat:"d"|add:" tickets" %}
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-12">
                <h1 class="mb-3 mt-lg-4 text-success">Category :</h1>
                {% category_button_group active_categories %}
            </div>
        </div>
    </section>
{% endblock %}
